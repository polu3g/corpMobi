<ion-view view-title="Make a deal">
    <ion-content ng-class="{expanded:isExpanded}" class="animate-fade-slide-in" has-header="true" padding="true">

        <ion-slides  options="options" slider="data.slider">
            <ion-slide-page>
             <ion-scroll style="height: 100%;">
                    <div class="box" style="height: 100%;">                
                    <h2>{{titleCust}} your customer</h2>
                    <div class="row row-center">
                        <div class="col col-center">
                            <md-content class="md-padding">
                                <form ng-submit="$event.preventDefault()">
                                    <div ng-hide="createNewCust">
                                    <p>Use <code>the box</code> to search for matches from EDP customer base.</p>
                                    <md-autocomplete
                                        ng-disabled="isDisabled"
                                        md-no-cache="noCache"
                                        md-selected-item="selectedItem"
                                        md-search-text-change="searchTextChange(searchText)"
                                        md-search-text="searchText"
                                        md-selected-item-change="selectedItemChange(item)"
                                        md-items="item in querySearch(searchText)"
                                        md-item-text="item.display"
                                        md-min-length="0"
                                        placeholder="Who is your favorite customer?">
                                        <md-item-template>
                                            <span md-highlight-text="searchText" md-highlight-flags="^i">{{item.display}}</span>
                                        </md-item-template>
                                        <md-not-found>
                                            No customer were found.
                                            <a ng-click="newState(searchText)">Create a new one!</a>
                                        </md-not-found>
                                    </md-autocomplete>
                                    <br/>
                                    </div>
                                     <div ng-show="createNewCust">
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Customer legal name</label>
                                            <md-icon md-svg-src="img/icons/ic_people_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="CompanyName" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Description</label>
                                            <md-icon md-svg-src="img/icons/ic_domain_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="Description" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Customer email address</label>
                                            <md-icon md-svg-src="img/icons/ic_email_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="EmailAddress" type="email">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Location name</label>
                                            <md-icon md-svg-src="img/icons/ic_location_city_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="LocationName" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Address</label>
                                            <md-icon md-svg-src="img/icons/ic_location_city_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="PhysicalAddress.AddressLine1" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>City</label>
                                            <md-icon md-svg-src="img/icons/ic_location_city_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="PhysicalAddress.City" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>State</label>
                                            <md-icon md-svg-src="img/icons/ic_location_city_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="PhysicalAddress.State" type="text">
                                        </md-input-container>                                         
                                        <md-input-container class="md-icon-float md-block">
                                            <!-- Use floating label instead of placeholder -->
                                            <label>Zipcode&nbsp;  [{{country}}]</label>
                                            <md-icon md-svg-src="img/icons/ic_location_city_24px.svg" class="name"></md-icon>		  
                                            <input ng-model="PhysicalAddress.ZipCode" type="text">
                                        </md-input-container>     
                                        <div class="row">
                                        <div class="col">
                                        <a class="button button-block button-dark" ng-click="clearCreateCust()">
                                            Cancel
                                        </a>
                                        </div>     
                                        <div class="col">
                                        <a class="button button-block button-assertive" ng-click="saveCustomer(this)">
                                            Add
                                        </a>
                                        </div>     
                                        </div>     
                                        <br/>    
                                     </div>
                                </form>
                            </md-content>	  
                        </div>
                    </div>

                </div>
                 </ion-scroll>
            </ion-slide-page>
            <ion-slide-page>
                <ion-scroll style="height: 100%;">
                    <div class="box" style="height: 100%;"><h2>Set deal parameters</h2>	
                        <md-content style="height: 100%;">
                            <div class="row row-center">
                                <div class="col col-center">	  
                                    <md-input-container class="md-icon-float md-block">
                                        <!-- Use floating label instead of placeholder -->
                                        <label>Deal description</label>
                                        <md-icon md-svg-src="img/icons/ic_share_24px.svg" class="name"></md-icon>		  
                                        <input ng-model="user.name" type="text">
                                    </md-input-container>
                                </div>
                                <div class="col col-center">	  
                                    <md-input-container class="md-icon-float md-block">
                                        <!-- Use floating label instead of placeholder -->
                                        <label>Agreement ID</label>
                                        <md-icon md-svg-src="img/icons/handshake-solid.svg" class="name"></md-icon>
                                        <input ng-model="user.name" type="text">
                                    </md-input-container>
                                </div>
                            </div>
                            <!-- 1st row over -->	  
                            <div class="row row-center">
                                <div class="col col-center">	
                                    <md-input-container>
                                        <label>Program type</label>
                                        <md-icon md-svg-src="img/icons/ico-inter-data.svg" class="name"></md-icon>		  
                                        <md-select ng-model="deal.salesmode">
                                            <md-option><em>None</em></md-option>
                                            <md-option ng-repeat="sm in quoteDef.PartnerProgramSalesModes" ng-value="sm.ProgramSalesModeId">
                                                {{sm.ProgramSalesMode}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>		
                                </div>
                                <div class="col col-center">	
                                    <md-input-container>
                                        <label>Contract type</label>
                                        <md-icon md-svg-src="img/icons/icon-pacesetter-growth.svg" class="name"></md-icon>		  
                                        <md-select ng-model="deal.contracttype">
                                            <md-option><em>None</em></md-option>
                                            <md-option ng-repeat="pbt in quoteDef.ProposalBusinessTypes" ng-value="pbt.ProposalBusinessTypesId">
                                                {{pbt.Name}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>		
                                </div>
                            </div>
                            <!-- 2nd row over -->	  
                            <div class="row row-center">
                                <div class="col col-center">	
                                    <md-input-container>
                                        <label>Pricing strategy</label>
                                        <md-icon md-svg-src="img/icons/icon-revenue.svg" class="name"></md-icon>		  
                                        <md-select ng-model="deal.pricestretegy">
                                            <md-option ng-repeat="pm in quoteDef.PricingModels" ng-value="pm.PricingModelId">
                                                {{pm.Name}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>		
                                </div>
                                <div class="col col-center">	
                                    <md-input-container>
                                        <label>Payment terms</label>
                                        <md-icon md-svg-src="img/icons/droplet.svg" class="name"></md-icon>				  
                                        <md-select ng-model="deal.paymentterm">
                                            <md-option><em>None</em></md-option>
                                            <md-option ng-repeat="pt in quoteDef.PaymentTermList" ng-value="pt.PaymentTermId">
                                                {{pt.Name}}
                                            </md-option>
                                        </md-select>
                                    </md-input-container>		
                                </div>
                            </div>
                            <div class="row row-center">
                                <div class="col col-center">	
                                    <md-input-container>
                                        <label>Term in month(s)</label>
                                        <md-icon md-svg-src="img/icons/clipboard52.svg" class="name"></md-icon>		
                                        <input ng-model="deal.termmonths" max="60" type="number" step="1" ng-init="(deal.termmonths = quoteDef.ContractTermInMonths)">
                                    </md-input-container>		
                                </div>
                            </div>
                            <!-- 3rd row over -->	  
                            <div class="row row-center ">
                                <div class="col col-center">	
                                    <md-radio-group ng-model="deal.billingmodel" layout="row">
                                        <md-radio-button value="{{bm.BillingModelId}}" ng-repeat="bm in quoteDef.BillingModels">{{bm.Name}}</md-radio-button>
                                    </md-radio-group>
                                </div>
                            </div>


                            <!-- 4th row over -->	
                        </md-content>
                    </div>
                </ion-scroll>
            </ion-slide-page>
            <ion-slide-page>
                <ion-scroll style="height: 100%;">
                    <div class="box" style="height: 100%;"><h2>Select device(s) </h2>
                        <span>Use <code>the search & add</code> to select the devices for the deal.</span>
                        <div class="row row-center">
                            <div class="col">	
                                <md-input-container>
                                    <label>Make</label>
                                    <md-icon md-svg-src="img/icons/printer-7.svg" class="name"></md-icon>				  
                                    <md-select ng-model="make">
                                        <md-option ng-value="make"><em>Xerox</em></md-option>
                                        <md-option ng-value="make"><em>HP</em></md-option>
                                    </md-select>
                                </md-input-container>		
                            </div>                            
                            <div class="col">	  
                                <md-input-container class="md-icon-float md-block">
                                    <!-- Use floating label instead of placeholder -->
                                    <label>Search a model</label>
                                    <md-icon md-svg-src="img/icons/ic_search_black_24px.svg" class="name"></md-icon>		  
                                    <input ng-model="searchtext" type="text">
                                </md-input-container>
                            </div>
                        </div>

                        <div class="list">
                            <a class="item item-thumbnail-left" ng-click="openModal($event)"> 
                                <img src="img/printers.png" style="width: 30px;height: 32px;"> 
                                <div style="margin-left: -42px;">
                                    <h2>HP Color Laser Jet 4610</h2> 
                                    <p>Net-price: 1,591.67 &nbsp; EOSL: 2021-11-30</p> 
                                </div>
                            </a> 
                            <a class="item item-thumbnail-left" ng-click="openModal($event)"> 
                                <img src="img/printers.png" style="width: 30px;height: 32px;"> 
                                <div style="margin-left: -42px;">
                                    <h2>HP Business Inkjet 1000 Printer</h2> 
                                    <p>Net-price: 1,591.67 &nbsp; EOSL: 2021-11-30</p> 
                                </div>
                            </a> 
                            <a class="item item-thumbnail-left" ng-click="openModal($event)"> 
                                <img src="img/printers.png" style="width: 30px;height: 32px;"> 
                                <div style="margin-left: -42px;">
                                    <h2>HP Color LaserJet 2550N Printer</h2> 
                                    <p>Net-price: 1,591.67 &nbsp; EOSL: 2021-11-30</p> 
                                </div>
                            </a>
                            <a class="item item-thumbnail-left" ng-click="openModal($event)"> 
                                <img src="img/printers.png" style="width: 30px;height: 32px;"> 
                                <div style="margin-left: -42px;">
                                    <h2>HP Color LaserJet 2550N Printer</h2> 
                                    <p>Net-price: 1,591.67 &nbsp; EOSL: 2021-11-30</p> 
                                </div>
                            </a>
                        </div>
                    </div>
                </ion-scroll>
            </ion-slide-page>
            <ion-slide-page>
                <ion-scroll style="height: 100%;">
                    <div class="box padding-bottom" style="height: 100%;"><h2>Manage deal exception(s)</h2>
                        <p>Use <code>the list</code> to select & file an exception for the deal.</p>    
                        <div class="list">
                            <a class="item item-avatar item-text-wrap" ng-click="openExcepPopover($event)" ng-repeat="item1 in exceptions"  ng-class-odd="'odd'" ng-class-even="'even'">
                                <img src="img/exception.png">
                                <h2>{{item1.name}}</h2>
                                <p>{{item1.desc}}</p>
                            </a>
                        </div>                    
                        <p>&nbsp;</p>
                    </div>
                </ion-scroll>
            </ion-slide-page>
            <ion-slide-page>
                <ion-tabs class="tabs-stable tabs-icon-top tmc">
                    <ion-tab title="Target Margin Comm" icon-on="ion-social-usd" icon-off="ion-social-usd-outline">
                        <ion-pane>
                            <ion-content>
                                <div class="list padding">
                                    <md-slider ng-model="tmc" min="1" max="100" aria-label="tmc">
                                    </md-slider>
                                    <md-input-container style="width: 200px">
                                        <label >Target Margin Commission</label>
                                        <input name="favoriteTmc" ng-model="tmc" required ng-init="(tmc = 10)">
                                    </md-input-container>
                                    <md-input-container style="width: 400px;margin-top: -22px;" ng-show="(tmc < 10)">
                                        <label >Please write the reason to achieve this goal</label>
                                        <textarea rows="5" cols="10" ng-model="reasonNotes"> </textarea>
                                    </md-input-container>
                                </div>  
                            </ion-content>
                        </ion-pane>
                    </ion-tab>
                    <ion-tab title="Series priceing" icon-on="ion-ios-list" icon-off="ion-ios-list-outline">
                        <ion-pane>
                            <ion-content>
                                <ion-scroll style="height: 100%;">
                                    <div class="box">                                        
                                        <div class="list padding">                        
                                            <md-input-container style="margin-top: -22px;" >
                                                <label>Series</label>
                                                <md-icon md-svg-src="img/icons/printer-7.svg" class="name"></md-icon>				  
                                                <md-select ng-model="make">
                                                    <md-option ng-value="make"><em>HP 2100/2200</em></md-option>
                                                    <md-option ng-value="make"><em>HP 4600(s)</em></md-option>
                                                </md-select>
                                            </md-input-container>    
                                            <md-input-container style="margin-top: -22px;" >
                                                <label>Sub-option</label>
                                                <md-icon md-svg-src="img/icons/printer-7.svg" class="name"></md-icon>				  
                                                <md-select ng-model="make">
                                                    <md-option ng-value="make"><em>Mono</em></md-option>
                                                    <md-option ng-value="make"><em>w/ Lease</em></md-option>
                                                </md-select>
                                            </md-input-container>    

                                            <md-input-container class="md-icon-float md-block">
                                                <!-- Use floating label instead of placeholder -->
                                                <label>Base price/month</label>
                                                <input ng-model="user.name" type="text">
                                            </md-input-container>
                                            <md-input-container class="md-icon-float md-block">
                                                <!-- Use floating label instead of placeholder -->
                                                <label>Click price</label>
                                                <input ng-model="user.name" type="text">
                                            </md-input-container>                                   

                                        </div>  
                                    </div>
                                </ion-scroll>
                            </ion-content>
                        </ion-pane>
                    </ion-tab>
                </ion-tabs>                    
            </ion-slide-page>
            <ion-slide-page>
                <ion-scroll style="height: 100%;">
                    <div class="box"><h2>Deal summary</h2>
                        <div class="list">
                            <a class="item item-avatar item-icon-right item-text-wrap">
                                <img src="img/supply.png">
                                <h2>HP services & supplies (EDP)</h2>
                                <p>Total net price : 1,278</p>
                                <p>Commission %: 2</p>
                                <p>Total customer price: 2,780</p>					
                            </a>
                            <a class="item item-avatar item-icon-right item-text-wrap">
                                <img src="img/sol.png">
                                <h2>Partner services & solutions</h2>
                                <p>Total net price : 1,278</p>
                                <p>Commission %: 2</p>
                                <p>Total customer price: 2,780</p>					
                            </a>
                            <a class="item item-avatar item-icon-right item-text-wrap">
                                <img src="img/asse.png">
                                <h2>Hardware & accessories</h2>
                                <p>Total net price : 1,278</p>
                                <p>Commission %: 2</p>
                                <p>Total customer price: 2,780</p>					
                            </a>
                            <a class="item item-avatar item-icon-right item-text-wrap">
                                <img src="img/hpsol.jpg">
                                <h2>HP software solutions</h2>
                                <p>Total net price : 1,278</p>
                                <p>Commission %: 2</p>
                                <p>Total customer price: 2,780</p>					
                            </a>
                            <a class="item item-avatar item-icon-right item-text-wrap">
                                <img src="img/plus.png">
                                <h2>Total</h2>
                                <p>Total net price : 1,278</p>
                                <p>Commission %: 2</p>
                                <p>Total customer price: 2,780</p>					
                            </a>

                            <button class="button button-block button-dark" ui-sref="app.profile">
                                Close wizard
                            </button>
                            <p>&nbsp;</p>

                        </div>
                    </div>
                </ion-scroll>

            </ion-slide-page>

        </ion-slides> 
    </ion-content>
    <div class="bar bar-footer navBtn" style="background: transparent;">
        <div class="row">
            <div class="ng-hide col" ng-show="true">
                <img src="img/button-arrow-left-icon.png" class="pull-left" ng-click="prevpage()" style="width:40px;">
            </div>					
        </div>					
        <div class="row">
            <div class="ng-hide col" ng-show="true" style="margin-top: 0.5em;">
                <img src="img/button-arrow-right-icon.png" class="pull-right" ng-click="nextpage()" style="width:40px;">
            </div>			
        </div>					
    </div>

</ion-view>
